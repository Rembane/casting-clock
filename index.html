<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="style.css" />
<script>
function startTime() {
    var m = window.location.href.match(/fake_now=(\d+)/);
    if(m) {
        var now = new Date(m[1]*1);
    } else {
        var now = new Date();
    }

    var h = now.getHours();
    var m = now.getMinutes();
    var s = now.getSeconds();
    markNow(h, m);
    document.getElementById('txt').innerHTML =
    checkTime(h) + ":" + checkTime(m) + ":" + checkTime(s);
    var t = setTimeout(startTime, 500);
}
function checkTime(i) {
    if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
    return i;
}
function markNow(hours, minutes) {
    // Markerar var nu Ã¤r i tabellen.
    var e = document.querySelector('.active');
    if(e) {
        e.className = '';
    }
    var xs = document.querySelectorAll('td');
    for(var i=0; i<xs.length; i++) {
        var m = xs[i].innerHTML.match(/(\d{2})\.(\d{2})/);
        if(m) {
            if(hours == m[1]*1 && minutes >= m[2]*1) {
                xs[i].parentNode.className = 'active';
                break
            }
        }
    }
}
</script>
</head>

<body onload="startTime()">

<div id="txt"></div>
<div id="program">
<table style="width:95%">
  <tr>
    <td><b>Programpunkt<b/></td>
    <td><b>Klockslag</b></td> 
  </tr>
  <tr>
    <td>Punkt 1</td>
    <td>10.00</td> 
  </tr>
    <tr>
    <td>Punkt 2</td>
    <td>11.00</td> 
  </tr>
    <tr>
    <td>Punkt 3</td>
    <td>14.00</td> 
  </tr>
    <tr>
    <td>Punkt 4</td>
    <td>15.00</td> 
  </tr>
    <tr>
    <td>Punkt 5</td>
    <td>16.00</td> 
  </tr>
    <tr>
    <td>Punkt 6</td>
    <td>18.00</td> 
  </tr>
    <tr>
    <td>Punkt 7</td>
    <td>19.00</td> 
  </tr>
    <tr>
    <td>Punkt 8</td>
    <td>20.35</td> 
  </tr>
</table>
</div>

</body>
</html>
